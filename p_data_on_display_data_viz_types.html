<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="SI Analytics">

<title>Data Visualization Types</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="p_data_on_display_data_viz_types_files/libs/clipboard/clipboard.min.js"></script>
<script src="p_data_on_display_data_viz_types_files/libs/quarto-html/quarto.js"></script>
<script src="p_data_on_display_data_viz_types_files/libs/quarto-html/popper.min.js"></script>
<script src="p_data_on_display_data_viz_types_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="p_data_on_display_data_viz_types_files/libs/quarto-html/anchor.min.js"></script>
<link href="p_data_on_display_data_viz_types_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="p_data_on_display_data_viz_types_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="p_data_on_display_data_viz_types_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="p_data_on_display_data_viz_types_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="p_data_on_display_data_viz_types_files/libs/bootstrap/bootstrap-8a79a254b8e706d3c925cde0a310d4f0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="si-analytics.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#slides" id="toc-slides" class="nav-link active" data-scroll-target="#slides"><span class="header-section-number">0.1</span> Slides</a></li>
  <li><a href="#intro" id="toc-intro" class="nav-link" data-scroll-target="#intro"><span class="header-section-number">0.2</span> Intro</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup"><span class="header-section-number">0.3</span> Setup</a></li>
  <li><a href="#univariate-plots" id="toc-univariate-plots" class="nav-link" data-scroll-target="#univariate-plots"><span class="header-section-number">1</span> 1. Univariate Plots</a>
  <ul class="collapse">
  <li><a href="#univariate-numeric" id="toc-univariate-numeric" class="nav-link" data-scroll-target="#univariate-numeric"><span class="header-section-number">1.1</span> 1.1 Univariate Numeric</a>
  <ul class="collapse">
  <li><a href="#histogram" id="toc-histogram" class="nav-link" data-scroll-target="#histogram"><span class="header-section-number">1.1.1</span> Histogram</a></li>
  <li><a href="#box-plot" id="toc-box-plot" class="nav-link" data-scroll-target="#box-plot"><span class="header-section-number">1.1.2</span> Box Plot</a></li>
  <li><a href="#violin-plot-with-box-points" id="toc-violin-plot-with-box-points" class="nav-link" data-scroll-target="#violin-plot-with-box-points"><span class="header-section-number">1.1.3</span> Violin Plot (with Box + Points)</a></li>
  </ul></li>
  <li><a href="#univariate-categorical" id="toc-univariate-categorical" class="nav-link" data-scroll-target="#univariate-categorical"><span class="header-section-number">1.2</span> 1.2 Univariate Categorical</a>
  <ul class="collapse">
  <li><a href="#bar-chart" id="toc-bar-chart" class="nav-link" data-scroll-target="#bar-chart"><span class="header-section-number">1.2.1</span> Bar Chart</a></li>
  <li><a href="#pie-chart" id="toc-pie-chart" class="nav-link" data-scroll-target="#pie-chart"><span class="header-section-number">1.2.2</span> Pie Chart</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#bivariate-plots" id="toc-bivariate-plots" class="nav-link" data-scroll-target="#bivariate-plots"><span class="header-section-number">2</span> 2. Bivariate Plots</a>
  <ul class="collapse">
  <li><a href="#numeric-vs-numeric" id="toc-numeric-vs-numeric" class="nav-link" data-scroll-target="#numeric-vs-numeric"><span class="header-section-number">2.1</span> 2.1 Numeric vs Numeric</a></li>
  <li><a href="#numeric-vs-categorical" id="toc-numeric-vs-categorical" class="nav-link" data-scroll-target="#numeric-vs-categorical"><span class="header-section-number">2.2</span> 2.2 Numeric vs Categorical</a>
  <ul class="collapse">
  <li><a href="#grouped-histogram" id="toc-grouped-histogram" class="nav-link" data-scroll-target="#grouped-histogram"><span class="header-section-number">2.2.1</span> Grouped Histogram</a></li>
  <li><a href="#grouped-violinboxstrip" id="toc-grouped-violinboxstrip" class="nav-link" data-scroll-target="#grouped-violinboxstrip"><span class="header-section-number">2.2.2</span> Grouped Violin/Box/Strip</a></li>
  <li><a href="#summary-bar-mean-std" id="toc-summary-bar-mean-std" class="nav-link" data-scroll-target="#summary-bar-mean-std"><span class="header-section-number">2.2.3</span> Summary Bar (Mean + Std)</a></li>
  </ul></li>
  <li><a href="#categorical-vs-categorical" id="toc-categorical-vs-categorical" class="nav-link" data-scroll-target="#categorical-vs-categorical"><span class="header-section-number">2.3</span> 2.3 Categorical vs Categorical</a>
  <ul class="collapse">
  <li><a href="#grouped-bar" id="toc-grouped-bar" class="nav-link" data-scroll-target="#grouped-bar"><span class="header-section-number">2.3.1</span> Grouped Bar</a></li>
  <li><a href="#stacked-bar" id="toc-stacked-bar" class="nav-link" data-scroll-target="#stacked-bar"><span class="header-section-number">2.3.2</span> Stacked Bar</a></li>
  <li><a href="#percent-stacked" id="toc-percent-stacked" class="nav-link" data-scroll-target="#percent-stacked"><span class="header-section-number">2.3.3</span> Percent Stacked</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#time-series" id="toc-time-series" class="nav-link" data-scroll-target="#time-series"><span class="header-section-number">3</span> 3. Time Series</a></li>
  <li><a href="#practice-with-the-gapminder-dataset" id="toc-practice-with-the-gapminder-dataset" class="nav-link" data-scroll-target="#practice-with-the-gapminder-dataset"><span class="header-section-number">4</span> 4. Practice with the Gapminder Dataset</a>
  <ul class="collapse">
  <li><a href="#how-does-gdp-per-capita-vary-across-continents" id="toc-how-does-gdp-per-capita-vary-across-continents" class="nav-link" data-scroll-target="#how-does-gdp-per-capita-vary-across-continents"><span class="header-section-number">4.1</span> 4.1 How does GDP per capita vary across continents?</a></li>
  <li><a href="#is-there-a-relationship-between-a-countrys-gdp-per-capita-and-life-expectancy" id="toc-is-there-a-relationship-between-a-countrys-gdp-per-capita-and-life-expectancy" class="nav-link" data-scroll-target="#is-there-a-relationship-between-a-countrys-gdp-per-capita-and-life-expectancy"><span class="header-section-number">4.2</span> 4.2 Is there a relationship between a country’s GDP per capita and life expectancy?</a></li>
  <li><a href="#how-does-life-expectancy-vary-between-the-income-groups" id="toc-how-does-life-expectancy-vary-between-the-income-groups" class="nav-link" data-scroll-target="#how-does-life-expectancy-vary-between-the-income-groups"><span class="header-section-number">4.3</span> 4.3 How does life expectancy vary between the income groups?</a></li>
  <li><a href="#what-is-the-relationship-between-continent-and-income-group" id="toc-what-is-the-relationship-between-continent-and-income-group" class="nav-link" data-scroll-target="#what-is-the-relationship-between-continent-and-income-group"><span class="header-section-number">4.4</span> 4.4 What is the relationship between continent and income group?</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">5</span> Conclusion</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Visualization Types</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>SI Analytics </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="slides" class="level2" data-number="0.1">
<h2 data-number="0.1" class="anchored" data-anchor-id="slides"><span class="header-section-number">0.1</span> Slides</h2>
<p>You can review the slides below, which was used to record the video. Or you can jump directly to the following sections, which contain more detail about each type of visualization.</p>
<p><img src="slides/data_viz_types/Slide1.jpeg" class="img-fluid" alt="Slide 1"> <img src="slides/data_viz_types/Slide2.jpeg" class="img-fluid" alt="Slide 2"> <img src="slides/data_viz_types/Slide3.jpeg" class="img-fluid" alt="Slide 3"> <img src="slides/data_viz_types/Slide4.jpeg" class="img-fluid" alt="Slide 4"> <img src="slides/data_viz_types/Slide5.jpeg" class="img-fluid" alt="Slide 5"> <img src="slides/data_viz_types/Slide6.jpeg" class="img-fluid" alt="Slide 6"> <img src="slides/data_viz_types/Slide7.jpeg" class="img-fluid" alt="Slide 7"> <img src="slides/data_viz_types/Slide8.jpeg" class="img-fluid" alt="Slide 8"> <img src="slides/data_viz_types/Slide9.jpeg" class="img-fluid" alt="Slide 9"> <img src="slides/data_viz_types/Slide10.jpeg" class="img-fluid" alt="Slide 10"> <img src="slides/data_viz_types/Slide11.jpeg" class="img-fluid" alt="Slide 11"> <img src="slides/data_viz_types/Slide12.jpeg" class="img-fluid" alt="Slide 12"> <img src="slides/data_viz_types/Slide13.jpeg" class="img-fluid" alt="Slide 13"> <img src="slides/data_viz_types/Slide14.jpeg" class="img-fluid" alt="Slide 14"></p>
</section>
<section id="intro" class="level2" data-number="0.2">
<h2 data-number="0.2" class="anchored" data-anchor-id="intro"><span class="header-section-number">0.2</span> Intro</h2>
<p>In data visualization, there are often three main steps:</p>
<ol type="1">
<li><strong>Wrangle and clean</strong> your data.<br>
</li>
<li><strong>Pick</strong> the right type of visualization for your question.<br>
</li>
<li><strong>Write the code</strong> to implement that visualization.</li>
</ol>
<p>In this lesson, we focus on step #2: understanding which types of plots best suit particular kinds of questions. We’ll look at examples from the built-in <code>tips</code> dataset in Plotly, exploring:</p>
<ul>
<li><strong>Univariate (single variable) numeric</strong> data<br>
</li>
<li><strong>Univariate (single variable) categorical</strong> data<br>
</li>
<li><strong>Bivariate numeric vs numeric</strong><br>
</li>
<li><strong>Bivariate numeric vs categorical</strong><br>
</li>
<li><strong>Bivariate categorical vs categorical</strong><br>
</li>
<li><strong>Time series</strong></li>
</ul>
<p>We then practice with another dataset (<code>gapminder</code>) to reinforce how to choose an effective plot for your data and your question.</p>
</section>
<section id="setup" class="level2" data-number="0.3">
<h2 data-number="0.3" class="anchored" data-anchor-id="setup"><span class="header-section-number">0.3</span> Setup</h2>
<p>Run the following code to set up the plotting environment and load the <code>tips</code> dataset from Plotly Express.</p>
<div id="f1614937" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.io <span class="im">as</span> pio</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>tips <span class="op">=</span> px.data.tips()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="univariate-plots" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 1. Univariate Plots</h1>
<p>When exploring <strong>one column</strong> (variable) in your data, your choice of visualization depends on whether that column is <strong>numeric</strong> (e.g.&nbsp;<code>tip</code>, <code>total_bill</code>) or <strong>categorical</strong> (e.g.&nbsp;<code>sex</code>, <code>day</code>).</p>
<section id="univariate-numeric" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="univariate-numeric"><span class="header-section-number">1.1</span> 1.1 Univariate Numeric</h2>
<p>Questions of the form: &gt; <em>What is the distribution of a numeric variable?</em><br>
&gt; <em>What’s its range? Its median? Where do most values lie?</em></p>
<p>Possible visualizations include:</p>
<ul>
<li><strong>Histogram</strong> – good for seeing the overall distribution of values.<br>
</li>
<li><strong>Box Plot</strong> – highlights the median, quartiles, and outliers.<br>
</li>
<li><strong>Violin Plot</strong> – combines a box plot with a “smoothed” histogram (density) shape.<br>
</li>
<li><strong>Strip/Jitter Plot</strong> – shows each individual point, slightly “jittered” so they’re not on top of each other.</li>
</ul>
<section id="histogram" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="histogram"><span class="header-section-number">1.1.1</span> Histogram</h3>
<div id="08a10487" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>fig_hist <span class="op">=</span> px.histogram(tips, x<span class="op">=</span><span class="st">'tip'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>fig_hist.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="box-plot" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="box-plot"><span class="header-section-number">1.1.2</span> Box Plot</h3>
<div id="bea69aa6" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fig_box <span class="op">=</span> px.box(tips, x<span class="op">=</span><span class="st">'tip'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>fig_box.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="violin-plot-with-box-points" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="violin-plot-with-box-points"><span class="header-section-number">1.1.3</span> Violin Plot (with Box + Points)</h3>
<div id="d9968a77" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fig_violin <span class="op">=</span> px.violin(tips, x<span class="op">=</span><span class="st">'tip'</span>, box<span class="op">=</span><span class="va">True</span>, points<span class="op">=</span><span class="st">'all'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>fig_violin.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="univariate-categorical" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="univariate-categorical"><span class="header-section-number">1.2</span> 1.2 Univariate Categorical</h2>
<p>Questions of the form: &gt; <em>How many observations fall into each category?</em> &gt; In the case of the tips dataset, <em>how many observations are there for each sex?</em></p>
<p>Possible visualizations include:</p>
<ul>
<li><strong>Bar Chart</strong> – typically counts how many rows fall into each category.<br>
</li>
<li><strong>Pie Chart</strong> – can be used if you have only a few categories and want to highlight proportions.</li>
</ul>
<section id="bar-chart" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="bar-chart"><span class="header-section-number">1.2.1</span> Bar Chart</h3>
<div id="cdc20f7a" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>fig_bar_cat <span class="op">=</span> px.histogram(tips, x<span class="op">=</span><span class="st">'sex'</span>, color<span class="op">=</span><span class="st">'sex'</span>, color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>])</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>fig_bar_cat.update_layout(showlegend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>fig_bar_cat.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pie-chart" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="pie-chart"><span class="header-section-number">1.2.2</span> Pie Chart</h3>
<div id="92bbb96c" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fig_pie_cat <span class="op">=</span> px.pie(tips, names<span class="op">=</span><span class="st">'sex'</span>, color<span class="op">=</span><span class="st">'sex'</span>, values<span class="op">=</span><span class="st">'tip'</span>,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                     color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>])</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>fig_pie_cat.update_layout(showlegend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>fig_pie_cat.update_traces(textposition<span class="op">=</span><span class="st">'none'</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>fig_pie_cat.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
</section>
<section id="bivariate-plots" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 2. Bivariate Plots</h1>
<p>When comparing <strong>two variables</strong>, consider whether they’re numeric or categorical. We’ll look at:</p>
<ol type="1">
<li>Numeric vs Numeric<br>
</li>
<li>Numeric vs Categorical<br>
</li>
<li>Categorical vs Categorical</li>
</ol>
<section id="numeric-vs-numeric" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="numeric-vs-numeric"><span class="header-section-number">2.1</span> 2.1 Numeric vs Numeric</h2>
<p>Typical question: &gt; <em>Do two numeric variables correlate?</em> &gt; In the case of the tips dataset, <em>does the total bill correlate with the tip?</em></p>
<p>A <strong>scatter plot</strong> is usually the first choice.</p>
<div id="308a515f" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fig_scatter <span class="op">=</span> px.scatter(tips, x<span class="op">=</span><span class="st">'total_bill'</span>, y<span class="op">=</span><span class="st">'tip'</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fig_scatter.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="numeric-vs-categorical" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="numeric-vs-categorical"><span class="header-section-number">2.2</span> 2.2 Numeric vs Categorical</h2>
<p>Typical questions: &gt; <em>Which group has higher values on average?</em><br>
&gt; In the case of the tips dataset, <em>do men or women tip more?</em></p>
<p>Visual options:</p>
<ul>
<li><strong>Grouped Histograms</strong> – separate histograms for each category (often overlaid).<br>
</li>
<li><strong>Grouped Box/Violin/Strip</strong> – one distribution plot per category.<br>
</li>
<li><strong>Summary Bar Chart</strong> – show mean (or median) for each category, optionally with error bars.</li>
</ul>
<section id="grouped-histogram" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="grouped-histogram"><span class="header-section-number">2.2.1</span> Grouped Histogram</h3>
<div id="12cebceb" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fig_grouped_hist <span class="op">=</span> px.histogram(tips, x<span class="op">=</span><span class="st">'tip'</span>, color<span class="op">=</span><span class="st">'sex'</span>, barmode<span class="op">=</span><span class="st">'overlay'</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                                color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>])</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>fig_grouped_hist.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="grouped-violinboxstrip" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="grouped-violinboxstrip"><span class="header-section-number">2.2.2</span> Grouped Violin/Box/Strip</h3>
<div id="04feb97a" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig_grouped_violin <span class="op">=</span> px.violin(tips, y<span class="op">=</span><span class="st">'sex'</span>, x<span class="op">=</span><span class="st">'tip'</span>, color<span class="op">=</span><span class="st">'sex'</span>,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                               box<span class="op">=</span><span class="va">True</span>, points<span class="op">=</span><span class="st">'all'</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                               color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>])</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>fig_grouped_violin.update_layout(showlegend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>fig_grouped_violin.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="summary-bar-mean-std" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="summary-bar-mean-std"><span class="header-section-number">2.2.3</span> Summary Bar (Mean + Std)</h3>
<div id="515875f4" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>summary_df <span class="op">=</span> tips.groupby(<span class="st">'sex'</span>).agg({<span class="st">'tip'</span>: [<span class="st">'mean'</span>, <span class="st">'std'</span>]}).reset_index()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>summary_df.columns <span class="op">=</span> [<span class="st">'sex'</span>, <span class="st">'mean_tip'</span>, <span class="st">'std_tip'</span>]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>fig_mean_bar <span class="op">=</span> px.bar(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    summary_df,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'sex'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'mean_tip'</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    error_x<span class="op">=</span><span class="st">'std_tip'</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">'sex'</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>],</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>fig_mean_bar.update_layout(showlegend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>fig_mean_bar.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="categorical-vs-categorical" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="categorical-vs-categorical"><span class="header-section-number">2.3</span> 2.3 Categorical vs Categorical</h2>
<p>Typical question: &gt; <em>How do two categorical variables overlap?</em><br>
&gt; In the case of the tips dataset, <em>how does the sex ratio differ by day of the week?</em></p>
<p>Visual options:</p>
<ul>
<li><strong>Stacked Bar Chart</strong> – total counts, stacked by category.<br>
</li>
<li><strong>Grouped/Clustered Bar Chart</strong> – side-by-side bars per category.<br>
</li>
<li><strong>Percent Stacked Bar Chart</strong> – each bar scaled to 100% so you see proportions.</li>
</ul>
<section id="grouped-bar" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="grouped-bar"><span class="header-section-number">2.3.1</span> Grouped Bar</h3>
<div id="3f83ecb0" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fig_grouped_bar <span class="op">=</span> px.histogram(tips, x<span class="op">=</span><span class="st">'day'</span>, color<span class="op">=</span><span class="st">'sex'</span>, barmode<span class="op">=</span><span class="st">'group'</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                               color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>])</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>fig_grouped_bar.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="stacked-bar" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="stacked-bar"><span class="header-section-number">2.3.2</span> Stacked Bar</h3>
<div id="c8c4791c" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fig_stacked_bar <span class="op">=</span> px.histogram(tips, x<span class="op">=</span><span class="st">'day'</span>, color<span class="op">=</span><span class="st">'sex'</span>,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                               color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>])</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>fig_stacked_bar.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="percent-stacked" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="percent-stacked"><span class="header-section-number">2.3.3</span> Percent Stacked</h3>
<div id="1abc6d06" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fig_percent_stacked <span class="op">=</span> px.histogram(tips, x<span class="op">=</span><span class="st">'day'</span>, color<span class="op">=</span><span class="st">'sex'</span>,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                                   barmode<span class="op">=</span><span class="st">'stack'</span>, barnorm<span class="op">=</span><span class="st">'percent'</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                                   color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>])</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>fig_percent_stacked.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="time-series" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> 3. Time Series</h1>
<p>Although you can treat time as a numeric variable, time series are unique because they show how values change over continuous time. Common plots:</p>
<ul>
<li><strong>Line Charts</strong> – ideal for continuous trends.<br>
</li>
<li><strong>Bar Charts</strong> – can work, but typically suggest discrete steps rather than a smooth progression.</li>
</ul>
<p>Example with Nigeria’s population from Plotly’s <code>gapminder</code> dataset:</p>
<div id="2c8edb5d" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>gap_dat <span class="op">=</span> px.data.gapminder()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>nigeria_pop <span class="op">=</span> gap_dat.query(<span class="st">'country == "Nigeria"'</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar Chart</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>fig_nigeria_bar <span class="op">=</span> px.bar(nigeria_pop, x<span class="op">=</span><span class="st">'year'</span>, y<span class="op">=</span><span class="st">'pop'</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>fig_nigeria_bar.show()</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Line Chart with Points</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>fig_nigeria_line <span class="op">=</span> px.line(nigeria_pop, x<span class="op">=</span><span class="st">'year'</span>, y<span class="op">=</span><span class="st">'pop'</span>, markers<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>fig_nigeria_line.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="practice-with-the-gapminder-dataset" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 4. Practice with the Gapminder Dataset</h1>
<p>Below, we filter <code>gapminder</code> to the year 2007 and add a simple income group classification. Then we answer some common questions. Try thinking: “Is this numeric vs numeric, numeric vs categorical, or categorical vs categorical?” Then select your plot accordingly.</p>
<div id="3523676e" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>gap_2007 <span class="op">=</span> (</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    gap_dat</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"year == 2007"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span>[<span class="st">"iso_alpha"</span>, <span class="st">"iso_num"</span>, <span class="st">"year"</span>])</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    .assign(income_group<span class="op">=</span><span class="kw">lambda</span> df: np.where(df.gdpPercap <span class="op">&gt;</span> <span class="dv">15000</span>, <span class="st">"High Income"</span>, <span class="st">"Low &amp; Middle Income"</span>))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>gap_2007.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For each section below, try to answer the question on your own before looking at the solution.</p>
<section id="how-does-gdp-per-capita-vary-across-continents" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="how-does-gdp-per-capita-vary-across-continents"><span class="header-section-number">4.1</span> 4.1 How does GDP per capita vary across continents?</h2>
<ul>
<li>GDP per capita = numeric<br>
</li>
<li>Continent = categorical</li>
</ul>
<p>A violin or box plot grouped by continent works well.</p>
<div id="351f51c5" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>fig_gdp_violin <span class="op">=</span> px.violin(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    gap_2007, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"gdpPercap"</span>, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"continent"</span>, </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"continent"</span>, </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    box<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"all"</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.G10</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>fig_gdp_violin.update_layout(showlegend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>fig_gdp_violin.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="is-there-a-relationship-between-a-countrys-gdp-per-capita-and-life-expectancy" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="is-there-a-relationship-between-a-countrys-gdp-per-capita-and-life-expectancy"><span class="header-section-number">4.2</span> 4.2 Is there a relationship between a country’s GDP per capita and life expectancy?</h2>
<ul>
<li>GDP per capita = numeric<br>
</li>
<li>Life expectancy = numeric</li>
</ul>
<p>A scatter plot is typically best.</p>
<div id="3244faa5" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>fig_scatter_gdp_life <span class="op">=</span> px.scatter(gap_2007, x<span class="op">=</span><span class="st">'gdpPercap'</span>, y<span class="op">=</span><span class="st">'lifeExp'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>fig_scatter_gdp_life.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-does-life-expectancy-vary-between-the-income-groups" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="how-does-life-expectancy-vary-between-the-income-groups"><span class="header-section-number">4.3</span> 4.3 How does life expectancy vary between the income groups?</h2>
<ul>
<li>Life expectancy = numeric<br>
</li>
<li>Income group = categorical</li>
</ul>
<p>Use grouped box, violin, or strip plots.</p>
<div id="3154ea58" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>fig_life_violin <span class="op">=</span> px.violin(gap_2007, x<span class="op">=</span><span class="st">"income_group"</span>, y<span class="op">=</span><span class="st">"lifeExp"</span>, box<span class="op">=</span><span class="va">True</span>, points<span class="op">=</span><span class="st">"all"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>fig_life_violin.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-is-the-relationship-between-continent-and-income-group" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="what-is-the-relationship-between-continent-and-income-group"><span class="header-section-number">4.4</span> 4.4 What is the relationship between continent and income group?</h2>
<ul>
<li>Continent = categorical<br>
</li>
<li>Income group = categorical</li>
</ul>
<p>A stacked or percent-stacked bar chart is a good choice.</p>
<div id="509a1a53" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>fig_continent_income <span class="op">=</span> px.histogram(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    gap_2007,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'continent'</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">'income_group'</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    barmode<span class="op">=</span><span class="st">'stack'</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>[<span class="st">'#deb221'</span>, <span class="st">'#2f828a'</span>]</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>fig_continent_income.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="conclusion" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Conclusion</h1>
<p>Picking the right type of visualization starts with asking:<br>
1. <em>How many variables am I looking at?</em><br>
2. <em>Are they numeric or categorical?</em><br>
3. <em>What exact question am I trying to answer?</em></p>
<p>Most of the time, the plots shown above (histograms, box/violin plots, scatter plots, bar charts, etc.) will be enough to communicate your insights effectively. For time series or more specialized questions, you might pick line charts or other advanced visualizations.</p>
<p>Keep practicing with different datasets and always ask yourself: <strong>“Which plot would best answer the question at hand?”</strong></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>